(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{63:function(t,e,n){},64:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),o=n(30),c=n.n(o),i=n(8),s=n(9),h=n(12),u=n(11),l=n(2),j=n(10),p=n(1),d=function(t){var e=t.movie,n=t.history,r=t.query;return Object(p.jsx)(j.b,{to:{pathname:"/movies/"+e.id,state:{id:e.id,search:void 0!==r?r:"",from:n.location.pathname}},children:Object(p.jsx)("li",{children:Object(p.jsx)("h1",{children:e.title})})})},m=function(t){var e=t.movies,n=t.query,r=t.history;return Object(p.jsx)("ul",{children:e.map((function(t){return Object(p.jsx)(d,{query:n,history:r,movie:t},t.id)}))})},b=n(20),f=n.n(b),v=n(32),O=n(15),y=n.n(O);function x(){return(x=Object(v.a)(f.a.mark((function t(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y()({method:"GET",url:"https://api.themoviedb.org/3/trending/movie/week?api_key=8d4e0a5a0c37d4780eefdf617d0feea1"});case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(t){return y()({method:"GET",url:"https://api.themoviedb.org/3/search/movie?api_key=8d4e0a5a0c37d4780eefdf617d0feea1&query="+t})}var k=function(t){Object(h.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).state={movies:[]},t}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var t=this;(function(){return x.apply(this,arguments)})().then((function(e){t.setState({movies:e.data.results})}))}},{key:"render",value:function(){return console.log(this.props),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{children:"Tranding today"}),Object(p.jsx)(m,{history:this.props.history,movies:this.state.movies})]})}}]),n}(r.Component),w=function(){return Object(p.jsxs)("header",{children:[Object(p.jsx)(j.c,{to:"/",children:Object(p.jsx)("button",{children:"HOME"})}),Object(p.jsx)(j.c,{to:"/movies",children:Object(p.jsx)("button",{children:"MOVIES"})})]})},q=function(t){Object(h.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).state={filmInfo:{}},t.handleGoBack=function(){t.props.history.push(t.props.history.location.state.from,{search:t.props.history.location.state.search})},t}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var t,e=this;(t=this.props.location.state.id,y()({method:"GET",url:"https://api.themoviedb.org/3/movie/".concat(t,"?api_key=8d4e0a5a0c37d4780eefdf617d0feea1")})).then((function(t){e.setState({filmInfo:t.data})}))}},{key:"render",value:function(){return console.log(this.props),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{children:"Film Information"}),Object(p.jsx)("button",{onClick:this.handleGoBack,children:"GoBack"}),Object(p.jsx)("h2",{children:this.state.filmInfo.original_title}),Object(p.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w500").concat(this.state.filmInfo.poster_path),alt:""}),Object(p.jsx)("p",{children:this.state.filmInfo.overview})]})}}]),n}(r.Component),S=n(33),I=function(t){Object(h.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).state={query:"",movies:[]},t.componentDidMount=function(){console.log(t.props.location.state.search),null!==t.props.location.state&&(t.setState({query:t.props.location.state.search}),g(t.props.location.state.search).then((function(e){t.setState({movies:e.data.results})})))},t.handleChangeQuery=function(e){t.setState(Object(S.a)({},e.target.name,e.target.value))},t.handleSubmitForm=function(e){e.preventDefault(),g(t.state.query).then((function(e){t.setState({movies:e.data.results})}))},t}return Object(s.a)(n,[{key:"render",value:function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("form",{action:"",onSubmit:this.handleSubmitForm,children:Object(p.jsx)("label",{htmlFor:"",children:Object(p.jsx)("input",{onInput:this.handleChangeQuery,type:"text",placeholder:"search movies",name:"query",value:this.state.query})})}),Object(p.jsx)(m,{query:this.state.query,history:this.props.history,movies:this.state.movies})]})}}]),n}(r.Component),F=function(t){Object(h.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).state={query:""},t}return Object(s.a)(n,[{key:"render",value:function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(w,{}),Object(p.jsxs)(l.c,{children:[Object(p.jsx)(l.a,{exact:!0,path:"/",component:k}),Object(p.jsx)(l.a,{exact:!0,path:"/movies",component:I}),Object(p.jsx)(l.a,{path:"/movies/:id",exact:!0,component:q})]})]})}}]),n}(r.Component);n(63);c.a.render(Object(p.jsx)(j.a,{children:Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(F,{})})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.718d9c05.chunk.js.map