(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{36:function(t,e,n){},74:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(17),c=n.n(o),i=n(12),s=n(13),h=n(16),l=n(15),u=n(3),p=n(14),j=n(2),d=function(t){var e=t.movie,n=t.history,a=t.query;return Object(j.jsx)(p.b,{to:{pathname:"/movies/"+e.id,state:{id:e.id,search:void 0!==a?a:"",from:n.location.pathname}},children:Object(j.jsxs)("li",{className:"ImageGalleryItem",children:[Object(j.jsxs)("h1",{children:["Title: ",e.title]}),Object(j.jsxs)("p",{children:["Release date: ",e.release_date]}),Object(j.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w500").concat(e.poster_path),alt:"",width:"320"}),console.log(e)]})})},m=function(t){var e=t.movies,n=t.query,a=t.history;return Object(j.jsx)("ul",{children:e.map((function(t){return Object(j.jsx)(d,{query:n,history:a,movie:t},t.id)}))})},b=n(26),f=n.n(b),v=n(38),O=n(22),y=n.n(O);function x(){return(x=Object(v.a)(f.a.mark((function t(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y()({method:"GET",url:"https://api.themoviedb.org/3/trending/movie/week?api_key=8d4e0a5a0c37d4780eefdf617d0feea1"});case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(t){return y()({method:"GET",url:"https://api.themoviedb.org/3/search/movie?api_key=8d4e0a5a0c37d4780eefdf617d0feea1&query="+t})}var k=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={movies:[]},t}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var t=this;(function(){return x.apply(this,arguments)})().then((function(e){t.setState({movies:e.data.results})}))}},{key:"render",value:function(){return console.log(this.props),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{children:"Tranding today"}),Object(j.jsx)(m,{history:this.props.history,movies:this.state.movies})]})}}]),n}(a.Component),w=n(87),q=function(){return Object(j.jsxs)("header",{children:[Object(j.jsx)(p.c,{to:"/",children:Object(j.jsx)(w.a,{variant:"contained",color:"primary",children:"Home"})}),Object(j.jsx)(p.c,{to:"/movies",children:Object(j.jsx)(w.a,{variant:"contained",color:"primary",children:"Movies"})})]})},I=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={filmInfo:{}},t.handleGoBack=function(){t.props.history.push(t.props.history.location.state.from,{search:t.props.history.location.state.search})},t}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var t,e=this;(t=this.props.location.state.id,y()({method:"GET",url:"https://api.themoviedb.org/3/movie/".concat(t,"?api_key=8d4e0a5a0c37d4780eefdf617d0feea1")})).then((function(t){e.setState({filmInfo:t.data})}))}},{key:"render",value:function(){return console.log(this.props),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{children:"Film Information"}),Object(j.jsx)(w.a,{onClick:this.handleGoBack,variant:"contained",color:"primary",children:"Go back"}),Object(j.jsx)("h2",{children:this.state.filmInfo.original_title}),Object(j.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w500").concat(this.state.filmInfo.poster_path),alt:""}),Object(j.jsx)("p",{children:this.state.filmInfo.overview})]})}}]),n}(a.Component),S=n(42),F=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={query:"",movies:[]},t.componentDidMount=function(){console.log(t.props.location.state.search),null!==t.props.location.state&&(t.setState({query:t.props.location.state.search}),g(t.props.location.state.search).then((function(e){t.setState({movies:e.data.results})})))},t.handleChangeQuery=function(e){t.setState(Object(S.a)({},e.target.name,e.target.value))},t.handleSubmitForm=function(e){e.preventDefault(),g(t.state.query).then((function(e){t.setState({movies:e.data.results})}))},t}return Object(s.a)(n,[{key:"render",value:function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("form",{action:"",onSubmit:this.handleSubmitForm,children:Object(j.jsx)("label",{htmlFor:"",children:Object(j.jsx)("input",{onInput:this.handleChangeQuery,type:"text",placeholder:"search movies",name:"query",value:this.state.query})})}),Object(j.jsx)(m,{query:this.state.query,history:this.props.history,movies:this.state.movies})]})}}]),n}(a.Component),C=(n(36),function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={query:""},t}return Object(s.a)(n,[{key:"render",value:function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(q,{}),Object(j.jsxs)(u.c,{children:[Object(j.jsx)(u.a,{exact:!0,path:"/",component:k}),Object(j.jsx)(u.a,{exact:!0,path:"/movies",component:F}),Object(j.jsx)(u.a,{path:"/movies/:id",exact:!0,component:I})]})]})}}]),n}(a.Component));c.a.render(Object(j.jsx)(p.a,{children:Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(C,{})})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.7cc57d55.chunk.js.map