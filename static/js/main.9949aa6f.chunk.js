(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{36:function(t,e,n){},73:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(17),i=n.n(c),o=n(12),s=n(13),h=n(16),l=n(15),u=n(3),j=n(14),m=n(2),p=function(t){var e=t.movie,n=t.history,a=t.query;return Object(m.jsx)(j.b,{to:{pathname:"/movies/"+e.id,state:{id:e.id,search:void 0!==a?a:"",from:n.location.pathname}},children:Object(m.jsxs)("li",{className:"ImageGalleryItem",children:[Object(m.jsxs)("p",{children:["Release date: ",e.release_date]}),Object(m.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w500").concat(e.poster_path),alt:"",width:"320"})]})})},b=function(t){var e=t.movies,n=t.query,a=t.history;return Object(m.jsx)("ul",{children:e.map((function(t){return Object(m.jsx)(p,{query:n,history:a,movie:t},t.id)}))})},d=n(26),f=n.n(d),v=n(38),O=n(18),y=n.n(O);function x(){return(x=Object(v.a)(f.a.mark((function t(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y()({method:"GET",url:"https://api.themoviedb.org/3/trending/movie/week?api_key=be5f011c0c95ebac9e43595fb9d549ff"});case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(t){return y()({method:"GET",url:"https://api.themoviedb.org/3/search/movie?api_key=be5f011c0c95ebac9e43595fb9d549ff&query="+t})}var k=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).state={movies:[]},t}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var t=this;(function(){return x.apply(this,arguments)})().then((function(e){t.setState({movies:e.data.results})}))}},{key:"render",value:function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{children:"Tranding today"}),Object(m.jsx)(b,{history:this.props.history,movies:this.state.movies})]})}}]),n}(a.Component),w=n(87),I=function(){return Object(m.jsx)("header",{className:"header",children:Object(m.jsxs)("span",{className:"navigation",children:[Object(m.jsx)(j.c,{to:"/",children:Object(m.jsx)("span",{className:"home",children:Object(m.jsx)(w.a,{variant:"contained",color:"primary",children:"Home"})})}),Object(m.jsx)(j.c,{to:"/movies",children:Object(m.jsx)(w.a,{variant:"contained",color:"primary",children:"Movies"})})]})})},q="https://image.tmdb.org/t/p/w500",_=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).state={filmInfo:{}},t.handleGoBack=function(){t.props.history.push(t.props.history.location.state.from,{search:t.props.history.location.state.search})},t}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var t,e=this;(t=this.props.location.state.id,y()({method:"GET",url:"https://api.themoviedb.org/3/movie/".concat(t,"?api_key=be5f011c0c95ebac9e43595fb9d549ff")})).then((function(t){e.setState({filmInfo:t.data})}))}},{key:"render",value:function(){return console.log(this.props),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{children:"Film Information"}),Object(m.jsx)("button",{onClick:this.handleGoBack,className:"goBack",children:"GO BACK"}),Object(m.jsx)("img",{src:"".concat(q).concat(this.state.filmInfo.poster_path),alt:this.state.filmInfo.original_title})?Object(m.jsx)("img",{src:"".concat(q).concat(this.state.filmInfo.poster_path),alt:this.state.filmInfo.original_title}):Object(m.jsx)("img",{src:"./images/not-found.png",alt:"not pictures"}),Object(m.jsx)("h2",{children:this.state.filmInfo.original_title}),Object(m.jsx)("p",{children:this.state.filmInfo.overview})]})}}]),n}(a.Component),C=n(42),F=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).state={query:"",movies:[]},t.handleChangeQuery=function(e){t.setState(Object(C.a)({},e.target.name,e.target.value))},t.handleSubmitForm=function(e){e.preventDefault(),g(t.state.query).then((function(e){t.setState({movies:e.data.results})}))},t}return Object(s.a)(n,[{key:"render",value:function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("form",{action:"",onSubmit:this.handleSubmitForm,children:Object(m.jsx)("label",{htmlFor:"",children:Object(m.jsx)("input",{onInput:this.handleChangeQuery,type:"text",placeholder:"search movies",name:"query",value:this.state.query})})}),Object(m.jsx)(b,{query:this.state.query,history:this.props.history,movies:this.state.movies})]})}}]),n}(a.Component),S=(n(36),function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).state={query:""},t}return Object(s.a)(n,[{key:"render",value:function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(I,{}),Object(m.jsxs)(u.c,{children:[Object(m.jsx)(u.a,{exact:!0,path:"/",component:k}),Object(m.jsx)(u.a,{exact:!0,path:"/movies",component:F}),Object(m.jsx)(u.a,{path:"/movies/:id",exact:!0,component:_})]})]})}}]),n}(a.Component));i.a.render(Object(m.jsx)(j.a,{children:Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(S,{})})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.9949aa6f.chunk.js.map